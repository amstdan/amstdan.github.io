(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{168:function(t,a,s){"use strict";s.r(a);var n=s(0),e=Object(n.a)({},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"content"},[t._m(0),t._v(" "),s("p",[t._v("如果你还没有安装Redis，参考"),s("a",{attrs:{href:"http://www.runoob.com/redis/redis-install.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("这里"),s("OutboundLink")],1),t._v("安装下载。")]),t._v(" "),t._m(1),t._v(" "),s("p",[t._v("Spring Data Redis提供了Spring框架和Redis之间的集成。")]),t._v(" "),t._m(2),t._v(" "),t._m(3),t._m(4),t._v(" "),t._m(5),t._v(" "),t._m(6),s("p",[t._v("spring.redis.database： 在Redis中，数据库是用一个整数索引标识，而不是数据库名称。默认连接数据库0（默认有16个数据库）。")]),t._v(" "),t._m(7),t._v(" "),t._m(8),t._v(" "),t._m(9),t._m(10),t._v(" "),s("p",[t._v("数据存储到Redis的过程中需要进行序列化操作，默认情况下，使用JDK API序列化。因此相关的实体类需要实现Serializable。你也可以定义其它的序列化方法。")]),t._v(" "),t._m(11),t._v(" "),t._m(12),t._m(13),t._v(" "),t._m(14),t._v(" "),s("p",[t._v("@Cacheable用来标注方法是能被缓存的。 对于已经将结果存入缓存的方法，在随后的调用中(参数值相同)，结果将直接从缓存中返回，不用调用方法。")]),t._v(" "),s("p",[t._v("在多线程环境中，某些操作可能会同时调用相同的参数。默认情况下，缓存不会锁定任何内容，将可能导致多次计算相同值，这将违背缓存的目的。在这种情况下，需要将sync属性设置true。 此时，只有一个线程计算值，其它线程将被阻塞，直到缓存值被更新。")]),t._v(" "),t._m(15),t._m(16),t._v(" "),s("p",[t._v("和@Cacheable不同的是，@CachePut每次都会调用方法来更新缓存，无论是否缓存存在。\n不要将@CachePut和@Cacheable用在同一个方法上。它们有着不同的行为，用在一起会导致无法预料的结果。")]),t._v(" "),t._m(17),t._v(" "),s("p",[t._v("根据一定的条件对缓存进行清空。")]),t._v(" "),t._m(18),t._v(" "),t._m(19),t._v(" "),t._m(20),t._v(" "),s("p",[t._v("@Caching让多个同类型注解用在一个方法上。")]),t._v(" "),t._m(21),t._m(22),t._v(" "),s("p",[t._v("@CacheConfig是一个类级注释，允许共享缓存名称，自定义KeyGenerator, 自定义的CacheManager和自定义的CacheResolver。")]),t._v(" "),s("p",[t._v("即当一个类中的方法拥有相同的缓存属性时，可以在类上加上统一属性配置，简化配置。")]),t._v(" "),t._m(23),t._v(" "),t._m(24),t._v(" "),t._m(25),t._v(" "),t._m(26),t._m(27),t._v(" "),t._m(28),t._m(29),t._v(" "),t._m(30),t._v(" "),t._m(31),s("p",[t._v("请通过调整不同的key generate 方法和调用顺序来加深对缓存注解的理解。")])])},[function(){var t=this.$createElement,a=this._self._c||t;return a("h1",{attrs:{id:"redis"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#redis","aria-hidden":"true"}},[this._v("#")]),this._v(" Redis")])},function(){var t=this.$createElement,a=this._self._c||t;return a("h2",{attrs:{id:"添加依赖"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#添加依赖","aria-hidden":"true"}},[this._v("#")]),this._v(" 添加依赖")])},function(){var t=this.$createElement,a=this._self._c||t;return a("p",[this._v("在"),a("code",[this._v("pom.xml")]),this._v("的"),a("code",[this._v("<dependencies>")]),this._v("中加入：")])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"language-xml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-xml"}},[s("code",[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("dependency")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("groupId")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("org.springframework.boot"),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("groupId")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("artifactId")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("spring-boot-starter-data-redis"),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("artifactId")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("dependency")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("h2",{attrs:{id:"配置redis服务器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置redis服务器","aria-hidden":"true"}},[this._v("#")]),this._v(" 配置Redis服务器")])},function(){var t=this.$createElement,a=this._self._c||t;return a("p",[a("code",[this._v("src/main/resources/application.properties")]),this._v("  添加以下配置:")])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"language-q extra-class"},[s("pre",{pre:!0,attrs:{class:"language-q"}},[s("code",[s("span",{attrs:{class:"token verb operator"}},[t._v(".")]),s("span",{attrs:{class:"token verb operator"}},[t._v(".")]),s("span",{attrs:{class:"token verb operator"}},[t._v(".")]),t._v("\n"),s("span",{attrs:{class:"token verb operator"}},[t._v("#")]),t._v("redis\nspring"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("redis"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("database"),s("span",{attrs:{class:"token verb operator"}},[t._v("=")]),s("span",{attrs:{class:"token number"}},[t._v("0")]),t._v("\nspring"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("redis"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("host"),s("span",{attrs:{class:"token verb operator"}},[t._v("=")]),s("span",{attrs:{class:"token number"}},[t._v("127.0")]),s("span",{attrs:{class:"token verb operator"}},[t._v(".")]),s("span",{attrs:{class:"token number"}},[t._v("0.1")]),t._v("\nspring"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("redis"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("port"),s("span",{attrs:{class:"token verb operator"}},[t._v("=")]),s("span",{attrs:{class:"token number"}},[t._v("6379")]),t._v("              "),s("span",{attrs:{class:"token verb operator"}},[t._v("#")]),t._v(" 默认端口是"),s("span",{attrs:{class:"token number"}},[t._v("6379")]),t._v("\nspring"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("redis"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("password"),s("span",{attrs:{class:"token verb operator"}},[t._v("=")]),t._v("              "),s("span",{attrs:{class:"token verb operator"}},[t._v("#")]),t._v(" 连接密码默认为空      \nspring"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("redis"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("pool"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token keyword"}},[t._v("max")]),s("span",{attrs:{class:"token verb operator"}},[t._v("-")]),t._v("active"),s("span",{attrs:{class:"token verb operator"}},[t._v("=")]),s("span",{attrs:{class:"token number"}},[t._v("8")]),t._v("      "),s("span",{attrs:{class:"token verb operator"}},[t._v("#")]),t._v(" 连接池最大连接数\nspring"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("redis"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("pool"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token keyword"}},[t._v("max")]),s("span",{attrs:{class:"token verb operator"}},[t._v("-")]),t._v("wait"),s("span",{attrs:{class:"token verb operator"}},[t._v("=")]),s("span",{attrs:{class:"token verb operator"}},[t._v("-")]),s("span",{attrs:{class:"token number"}},[t._v("1")]),t._v("       "),s("span",{attrs:{class:"token verb operator"}},[t._v("#")]),t._v(" 连接池最大阻塞等待时间。负值表示无限制\nspring"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("redis"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("pool"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token keyword"}},[t._v("max")]),s("span",{attrs:{class:"token verb operator"}},[t._v("-")]),t._v("idle"),s("span",{attrs:{class:"token verb operator"}},[t._v("=")]),s("span",{attrs:{class:"token number"}},[t._v("8")]),t._v("        "),s("span",{attrs:{class:"token verb operator"}},[t._v("#")]),t._v(" 连接池最大空闲连接数 \nspring"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("redis"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("pool"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token keyword"}},[t._v("min")]),s("span",{attrs:{class:"token verb operator"}},[t._v("-")]),t._v("idle"),s("span",{attrs:{class:"token verb operator"}},[t._v("=")]),s("span",{attrs:{class:"token number"}},[t._v("0")]),t._v("        "),s("span",{attrs:{class:"token verb operator"}},[t._v("#")]),t._v(" 连接池最小空闲连接数 \nspring"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("redis"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("timeout"),s("span",{attrs:{class:"token verb operator"}},[t._v("=")]),s("span",{attrs:{class:"token number"}},[t._v("0")]),t._v("              "),s("span",{attrs:{class:"token verb operator"}},[t._v("#")]),t._v(" 连接超时时间（ms）\n"),s("span",{attrs:{class:"token verb operator"}},[t._v(".")]),s("span",{attrs:{class:"token verb operator"}},[t._v(".")]),s("span",{attrs:{class:"token verb operator"}},[t._v(".")]),t._v("\n")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("h2",{attrs:{id:"创建缓存配置类"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#创建缓存配置类","aria-hidden":"true"}},[this._v("#")]),this._v(" 创建缓存配置类")])},function(){var t=this.$createElement,a=this._self._c||t;return a("p",[a("code",[this._v("src/main/java/com/example/demo/config/cache/CacheConfig.java")])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{attrs:{class:"token annotation punctuation"}},[t._v("@Configuration")]),t._v("\n"),s("span",{attrs:{class:"token annotation punctuation"}},[t._v("@EnableCaching")]),t._v("\n"),s("span",{attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{attrs:{class:"token class-name"}},[t._v("CacheConfig")]),t._v(" "),s("span",{attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),s("span",{attrs:{class:"token class-name"}},[t._v("CachingConfigurerSupport")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n\t"),s("span",{attrs:{class:"token annotation punctuation"}},[t._v("@Bean")]),t._v("\n\t"),s("span",{attrs:{class:"token keyword"}},[t._v("public")]),t._v(" KeyGenerator "),s("span",{attrs:{class:"token function"}},[t._v("keyGenerator")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t"),s("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{attrs:{class:"token class-name"}},[t._v("KeyGenerator")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t\t"),s("span",{attrs:{class:"token annotation punctuation"}},[t._v("@Override")]),t._v("\n\t\t\t"),s("span",{attrs:{class:"token keyword"}},[t._v("public")]),t._v(" Object "),s("span",{attrs:{class:"token function"}},[t._v("generate")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Object target"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Method method"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Object"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" params"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t\t\tStringBuilder sb "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{attrs:{class:"token class-name"}},[t._v("StringBuilder")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t\t\tsb"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("append")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("target"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("getClass")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("getName")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t\t\tsb"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("append")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("method"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("getName")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t\t\t"),s("span",{attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Object obj "),s("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" params"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t\t\t\tsb"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("append")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("obj"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("toString")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t\t\t"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\t\t\t\t"),s("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" sb"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("toString")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t\t"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\t\t"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n\t"),s("span",{attrs:{class:"token annotation punctuation"}},[t._v("@Bean")]),t._v("\n\t"),s("span",{attrs:{class:"token keyword"}},[t._v("public")]),t._v(" CacheManager "),s("span",{attrs:{class:"token function"}},[t._v("cacheManager")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("RedisTemplate"),s("span",{attrs:{class:"token operator"}},[t._v("<")]),s("span",{attrs:{class:"token operator"}},[t._v("?")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("?")]),s("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" redisTemplate"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\tCacheManager cacheManager "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{attrs:{class:"token class-name"}},[t._v("RedisCacheManager")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("redisTemplate"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t"),s("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" cacheManager"),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n\t"),s("span",{attrs:{class:"token annotation punctuation"}},[t._v("@Bean")]),t._v("\n\t"),s("span",{attrs:{class:"token keyword"}},[t._v("public")]),t._v(" RedisTemplate"),s("span",{attrs:{class:"token operator"}},[t._v("<")]),s("span",{attrs:{class:"token operator"}},[t._v("?")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("?")]),s("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{attrs:{class:"token function"}},[t._v("redisTemplate")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("RedisConnectionFactory factory"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\tRedisTemplate"),s("span",{attrs:{class:"token operator"}},[t._v("<")]),s("span",{attrs:{class:"token operator"}},[t._v("?")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("?")]),s("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" redisTemplate "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{attrs:{class:"token class-name"}},[t._v("RedisTemplate")]),s("span",{attrs:{class:"token generics function"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("String"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" String"),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\tredisTemplate"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("setConnectionFactory")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("factory"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t"),s("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" redisTemplate"),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ul",[s("li",[t._v("开启缓存的方法是添加@EnableCaching到一个使用@Configuration注解的类上。")]),t._v(" "),s("li",[t._v("配置类继承CachingConfigurerSupport来重写方法keyGenerator, cacheManager。")]),t._v(" "),s("li",[t._v("因为缓存是key-value存储，所以缓存方法的每次调用都需要被转换为适合缓存访问的密钥。")]),t._v(" "),s("li",[t._v("keyGenerator()使用类名，方法名，参数名来作为缓存方法的key。")]),t._v(" "),s("li",[t._v("cacheManager()提供具体缓存实现(RedisCacheManager) -- Redis。")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("p",[a("code",[this._v("src/main/java/com/example/demo/entity/Admin.java")])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{attrs:{class:"token annotation punctuation"}},[t._v("@Entity")]),t._v("\n"),s("span",{attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{attrs:{class:"token class-name"}},[t._v("Admin")]),t._v(" "),s("span",{attrs:{class:"token keyword"}},[t._v("implements")]),t._v(" "),s("span",{attrs:{class:"token class-name"}},[t._v("Serializable")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("h2",{attrs:{id:"缓存注解"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#缓存注解","aria-hidden":"true"}},[this._v("#")]),this._v(" 缓存注解")])},function(){var t=this.$createElement,a=this._self._c||t;return a("h3",{attrs:{id:"cacheable"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cacheable","aria-hidden":"true"}},[this._v("#")]),this._v(" @Cacheable")])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{attrs:{class:"token annotation punctuation"}},[t._v("@Cacheable")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("cacheNames"),s("span",{attrs:{class:"token operator"}},[t._v("=")]),s("span",{attrs:{class:"token string"}},[t._v('"admin"')]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" sync"),s("span",{attrs:{class:"token operator"}},[t._v("=")]),s("span",{attrs:{class:"token boolean"}},[t._v("true")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("h3",{attrs:{id:"cacheput"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cacheput","aria-hidden":"true"}},[this._v("#")]),this._v(" @CachePut")])},function(){var t=this.$createElement,a=this._self._c||t;return a("h3",{attrs:{id:"cacheevict"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cacheevict","aria-hidden":"true"}},[this._v("#")]),this._v(" @CacheEvict")])},function(){var t=this.$createElement,a=this._self._c||t;return a("h3",{attrs:{id:"缓存注解和crud操作redis缓存的对应关系"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#缓存注解和crud操作redis缓存的对应关系","aria-hidden":"true"}},[this._v("#")]),this._v(" 缓存注解和CRUD操作redis缓存的对应关系")])},function(){var t=this.$createElement,a=this._self._c||t;return a("blockquote",[a("p",[this._v("@Cacheable => Save or Query"),a("br"),this._v("\n@CachePut => Save or Update"),a("br"),this._v("\n@CacheEvict => Delete")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("h3",{attrs:{id:"caching"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#caching","aria-hidden":"true"}},[this._v("#")]),this._v(" @Caching")])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{attrs:{class:"token annotation punctuation"}},[t._v("@Caching")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("evict "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{attrs:{class:"token annotation punctuation"}},[t._v("@CacheEvict")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v('"primary"')]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token annotation punctuation"}},[t._v("@CacheEvict")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("cacheNames"),s("span",{attrs:{class:"token operator"}},[t._v("=")]),s("span",{attrs:{class:"token string"}},[t._v('"secondary"')]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" key"),s("span",{attrs:{class:"token operator"}},[t._v("=")]),s("span",{attrs:{class:"token string"}},[t._v('"#p0"')]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("h3",{attrs:{id:"cacheconfig"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cacheconfig","aria-hidden":"true"}},[this._v("#")]),this._v(" @CacheConfig")])},function(){var t=this.$createElement,a=this._self._c||t;return a("h2",{attrs:{id:"使用缓存"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用缓存","aria-hidden":"true"}},[this._v("#")]),this._v(" 使用缓存")])},function(){var t=this.$createElement,a=this._self._c||t;return a("p",[a("strong",[this._v("通常缓存会用在service层。")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("p",[this._v("创建CacheService:"),a("br"),this._v(" "),a("code",[this._v("src/main/java/com/example/demo/service/CacheService.java")])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{attrs:{class:"token keyword"}},[t._v("interface")]),t._v(" "),s("span",{attrs:{class:"token class-name"}},[t._v("CacheService")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n\t"),s("span",{attrs:{class:"token keyword"}},[t._v("public")]),t._v(" Admin "),s("span",{attrs:{class:"token function"}},[t._v("findAdmin")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Long id"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\n\t"),s("span",{attrs:{class:"token keyword"}},[t._v("public")]),t._v(" Admin "),s("span",{attrs:{class:"token function"}},[t._v("updateAdmin")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Long id"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\n\t"),s("span",{attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),s("span",{attrs:{class:"token function"}},[t._v("deleteAdminCache")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("p",[this._v("创建CacheServiceImpl:"),a("br"),this._v(" "),a("code",[this._v("src/main/java/com/example/demo/service/impl/CacheServiceImpl.java")])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{attrs:{class:"token annotation punctuation"}},[t._v("@Service")]),t._v("\n"),s("span",{attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{attrs:{class:"token class-name"}},[t._v("CacheServiceImpl")]),t._v(" "),s("span",{attrs:{class:"token keyword"}},[t._v("implements")]),t._v(" "),s("span",{attrs:{class:"token class-name"}},[t._v("CacheService")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n\t"),s("span",{attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{attrs:{class:"token annotation punctuation"}},[t._v("@Autowired")]),t._v(" AdminRepository adminRepository"),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\n\t"),s("span",{attrs:{class:"token annotation punctuation"}},[t._v("@Cacheable")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v('"admin"')]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),s("span",{attrs:{class:"token annotation punctuation"}},[t._v("@Override")]),t._v("\n\t"),s("span",{attrs:{class:"token keyword"}},[t._v("public")]),t._v(" Admin "),s("span",{attrs:{class:"token function"}},[t._v("findAdmin")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Long id"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\tSystem"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("println")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v('"Find admin."')]),s("span",{attrs:{class:"token operator"}},[t._v("+")]),s("span",{attrs:{class:"token string"}},[t._v('" ID="')]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("+")]),t._v(" id"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t"),s("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" adminRepository"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("findOne")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("id"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n\t"),s("span",{attrs:{class:"token annotation punctuation"}},[t._v("@CachePut")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v('"admin"')]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),s("span",{attrs:{class:"token annotation punctuation"}},[t._v("@Override")]),t._v("\n\t"),s("span",{attrs:{class:"token keyword"}},[t._v("public")]),t._v(" Admin "),s("span",{attrs:{class:"token function"}},[t._v("updateAdmin")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Long id"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\tSystem"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("println")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v('"Update admin."')]),s("span",{attrs:{class:"token operator"}},[t._v("+")]),s("span",{attrs:{class:"token string"}},[t._v('" ID="')]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("+")]),t._v(" id"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\tAdmin admin "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" adminRepository"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("findOne")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("id"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\tadmin"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("setEmail")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v('"***"')]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\tadminRepository"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("save")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("admin"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t"),s("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" admin"),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\t\n\t"),s("span",{attrs:{class:"token annotation punctuation"}},[t._v("@CacheEvict")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("cacheNames "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v('"admin"')]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("allEntries"),s("span",{attrs:{class:"token operator"}},[t._v("=")]),s("span",{attrs:{class:"token boolean"}},[t._v("true")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),s("span",{attrs:{class:"token annotation punctuation"}},[t._v("@Override")]),t._v("\n\t"),s("span",{attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),s("span",{attrs:{class:"token function"}},[t._v("deleteAdminCache")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\tSystem"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("println")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v('"Delete all admin cache"')]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("ul",[a("li",[this._v("因为我们使用的是自定义的key生成算法，缓存跟类名，方法名，参数名有关，所以在CacheServiceImpl中getAdmin()和updateAdmin()相同的参数操作的并不是同一个缓存Entry。如果你使用Spring默认的key生成算法（在CacheConfig中注释掉方法keyGenerate()）。那么在同一个类下，参数相同(包括值)的不同方法操作的将会是同一个缓存Entry。")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("p",[this._v("创建CacheController:"),a("br"),this._v(" "),a("code",[this._v("src/main/java/com/example/demo/controller/CacheController.java")])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{attrs:{class:"token annotation punctuation"}},[t._v("@RestController")]),t._v("\n"),s("span",{attrs:{class:"token annotation punctuation"}},[t._v("@RequestMapping")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v('"/cache"')]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{attrs:{class:"token class-name"}},[t._v("CacheController")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\n\t"),s("span",{attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{attrs:{class:"token annotation punctuation"}},[t._v("@Autowired")]),t._v(" CacheService cacheService"),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\n\t"),s("span",{attrs:{class:"token annotation punctuation"}},[t._v("@RequestMapping")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v('"/admin/{id}"')]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),s("span",{attrs:{class:"token keyword"}},[t._v("public")]),t._v(" Admin "),s("span",{attrs:{class:"token function"}},[t._v("getAdmin")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token annotation punctuation"}},[t._v("@PathVariable")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v('"id"')]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" Long id"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t"),s("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" cacheService"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("findAdmin")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("id"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\t\n\t"),s("span",{attrs:{class:"token annotation punctuation"}},[t._v("@RequestMapping")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v('"/admin/update/{id}"')]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),s("span",{attrs:{class:"token keyword"}},[t._v("public")]),t._v(" Admin "),s("span",{attrs:{class:"token function"}},[t._v("updateAdmin")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token annotation punctuation"}},[t._v("@PathVariable")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v('"id"')]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" Long id"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t"),s("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" cacheService"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("updateAdmin")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("id"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\t\n\t"),s("span",{attrs:{class:"token annotation punctuation"}},[t._v("@RequestMapping")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v('"/admin/delete"')]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),s("span",{attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),s("span",{attrs:{class:"token function"}},[t._v("deleteAdmin")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\tcacheService"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("deleteAdminCache")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])}],!1,null,null,null);e.options.__file="redis.md";a.default=e.exports}}]);