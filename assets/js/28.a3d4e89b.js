(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{166:function(e,n,t){"use strict";t.r(n);var r=t(0),s=Object(r.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"content"},[t("h1",{attrs:{id:"杂项"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#杂项","aria-hidden":"true"}},[e._v("#")]),e._v(" 杂项")]),e._v(" "),t("h2",{attrs:{id:"全局异常"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#全局异常","aria-hidden":"true"}},[e._v("#")]),e._v(" 全局异常")]),e._v(" "),t("p",[e._v("public class BaseController {")]),e._v(" "),t("pre",[t("code",[e._v("@ExceptionHandler({BaseException.class, Exception.class })\npublic Response handleException(Exception ex) {\n\tif (ex instanceof BaseException) {\n\t\tBaseException be = (BaseException) ex;\n\t\treturn new Response(be.getCode(), be.getErrorMessage(), null);\n\t} else {\n\t\treturn new Response(ResponseCode.EXCEPTION_NOT_DEFINED, ex.getMessage(), null);\n\t}\n}\n")])]),e._v(" "),t("p",[e._v("}")]),e._v(" "),t("p",[e._v('public class AdminController extends BaseController {\n@RequestMapping("/exception/undefined")\npublic Response getExceptionUndefined() {\nreturn new Response(200, null, 1/1);\n}')]),e._v(" "),t("pre",[t("code",[e._v('@RequestMapping("/exception/defined")\npublic void getExceptionDefined() {\n\tthrow new ServerException();\n}\n')])]),e._v(" "),t("p",[e._v("}")]),e._v(" "),t("p",[e._v('@SuppressWarnings("serial")\npublic class BaseException extends RuntimeException {')]),e._v(" "),t("pre",[t("code",[e._v("private int code;\nprivate String errorMessage;\n\npublic int getCode() {\n\treturn code;\n}\npublic void setCode(int code) {\n\tthis.code = code;\n}\npublic String getErrorMessage() {\n\treturn errorMessage;\n}\npublic void setErrorMessage(String errorMessage) {\n\tthis.errorMessage = errorMessage;\n}\n")])]),e._v(" "),t("p",[e._v("}")]),e._v(" "),t("p",[e._v('@SuppressWarnings("serial")\npublic class ServerException extends BaseException {')]),e._v(" "),t("pre",[t("code",[e._v('public ServerException() {\n\tsuper();\n\tsetErrorMessage("server exception!");\n\tsetCode(500);\n}\n')])]),e._v(" "),t("p",[e._v("}")]),e._v(" "),t("h2",{attrs:{id:"profiles"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#profiles","aria-hidden":"true"}},[e._v("#")]),e._v(" profiles")]),e._v(" "),t("p",[e._v("1新建文件application-dev.properties, application-prod.properties\n分别加入greeting=hello, dev,   greeting=hello, prod")]),e._v(" "),t("p",[e._v("2 在admincontrooler中加入")]),e._v(" "),t("p",[e._v('public @Value("${greeting}") String value;\n@RequestMapping("/profiles")\npublic String getProfilesValue() {\nreturn value;\n}')]),e._v(" "),t("p",[e._v("3 application.properties中加入spring.profiles.active=dev")]),e._v(" "),t("p",[e._v("4 访问http://localhost:8080/profile\n显示hello, dev")]),e._v(" "),t("p",[e._v("5 优先级application-{profile}.properties > application.properties")])])}],!1,null,null,null);s.options.__file="杂项.md";n.default=s.exports}}]);